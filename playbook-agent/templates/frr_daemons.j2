# This file contains the configuration for the FRR daemons
# The daemons listed below will be started and stopped by the FRR service
# 
# Generated by NetViz Backend Ansible Automation
# Template: frr_daemons.j2
# Timestamp: {{ ansible_date_time.iso8601 }}
#
# Please read the following documentation for more information:
# https://frrouting.readthedocs.io/en/latest/basic.html

# The zebra daemon must be enabled for any routing protocol to function
zebra=yes

# BGP daemon (Border Gateway Protocol)
{% if 'bgpd' in frr_daemons_config %}
bgpd=yes
{% else %}
bgpd=no
{% endif %}

# OSPF daemon (Open Shortest Path First v2)
{% if 'ospfd' in frr_daemons_config %}
ospfd=yes
{% else %}
ospfd=no
{% endif %}

# OSPFv3 daemon (Open Shortest Path First v3 for IPv6)
{% if 'ospf6d' in frr_daemons_config %}
ospf6d=yes
{% else %}
ospf6d=no
{% endif %}

# RIP daemon (Routing Information Protocol)
{% if 'ripd' in frr_daemons_config %}
ripd=yes
{% else %}
ripd=no
{% endif %}

# RIPng daemon (RIP for IPv6)
{% if 'ripngd' in frr_daemons_config %}
ripngd=yes
{% else %}
ripngd=no
{% endif %}

# IS-IS daemon (Intermediate System to Intermediate System)
{% if 'isisd' in frr_daemons_config %}
isisd=yes
{% else %}
isisd=no
{% endif %}

# PIM daemon (Protocol Independent Multicast)
{% if 'pimd' in frr_daemons_config %}
pimd=yes
{% else %}
pimd=no
{% endif %}

# LDP daemon (Label Distribution Protocol)
{% if 'ldpd' in frr_daemons_config %}
ldpd=yes
{% else %}
ldpd=no
{% endif %}

# NHRP daemon (Next Hop Resolution Protocol)
{% if 'nhrpd' in frr_daemons_config %}
nhrpd=yes
{% else %}
nhrpd=no
{% endif %}

# EIGRP daemon (Enhanced Interior Gateway Routing Protocol)
{% if 'eigrpd' in frr_daemons_config %}
eigrpd=yes
{% else %}
eigrpd=no
{% endif %}

# BABEL daemon (Babel routing protocol)
{% if 'babeld' in frr_daemons_config %}
babeld=yes
{% else %}
babeld=no
{% endif %}

# SHARP daemon (Shortest Path First)
{% if 'sharpd' in frr_daemons_config %}
sharpd=yes
{% else %}
sharpd=no
{% endif %}

# PBR daemon (Policy Based Routing)
{% if 'pbrd' in frr_daemons_config %}
pbrd=yes
{% else %}
pbrd=no
{% endif %}

# Static route daemon
{% if 'staticd' in frr_daemons_config %}
staticd=yes
{% else %}
staticd=no
{% endif %}

# BFD daemon (Bidirectional Forwarding Detection)
{% if 'bfdd' in frr_daemons_config %}
bfdd=yes
{% else %}
bfdd=no
{% endif %}

# VRRP daemon (Virtual Router Redundancy Protocol)
{% if 'vrrpd' in frr_daemons_config %}
vrrpd=yes
{% else %}
vrrpd=no
{% endif %}

# Path daemon (PATH)
{% if 'pathd' in frr_daemons_config %}
pathd=yes
{% else %}
pathd=no
{% endif %}

#
# Optional daemon options
#
# Format: <daemon_name>_options="<options>"
#

# Zebra options
zebra_options="--daemon -A 127.0.0.1"

# BGP options
{% if 'bgpd' in frr_daemons_config %}
bgpd_options="--daemon -A 127.0.0.1"
{% endif %}

# OSPF options
{% if 'ospfd' in frr_daemons_config %}
ospfd_options="--daemon -A 127.0.0.1"
{% endif %}

# FRR vtysh configuration
vtysh_enable=yes
zebra_state="up"

# Set the appropriate file descriptor limit
MAX_FDS=1024

# Watchfrr configuration
watchfrr_enable=yes
watchfrr_options="--daemon --log-level=warning"

# Log configuration
log_file="/var/log/frr/frr.log"
log_level="informational"

# Configuration file locations
config_dir="/etc/frr"
state_dir="/var/run/frr" 